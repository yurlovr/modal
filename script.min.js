var $jscomp=$jscomp||{};$jscomp.scope={};$jscomp.ASSUME_ES5=!1;$jscomp.ASSUME_NO_NATIVE_MAP=!1;$jscomp.ASSUME_NO_NATIVE_SET=!1;$jscomp.defineProperty=$jscomp.ASSUME_ES5||"function"==typeof Object.defineProperties?Object.defineProperty:function(a,b,c){a!=Array.prototype&&a!=Object.prototype&&(a[b]=c.value)};$jscomp.getGlobal=function(a){return"undefined"!=typeof window&&window===a?a:"undefined"!=typeof global&&null!=global?global:a};$jscomp.global=$jscomp.getGlobal(this);$jscomp.SYMBOL_PREFIX="jscomp_symbol_";
$jscomp.initSymbol=function(){$jscomp.initSymbol=function(){};$jscomp.global.Symbol||($jscomp.global.Symbol=$jscomp.Symbol)};$jscomp.Symbol=function(){var a=0;return function(b){return $jscomp.SYMBOL_PREFIX+(b||"")+a++}}();
$jscomp.initSymbolIterator=function(){$jscomp.initSymbol();var a=$jscomp.global.Symbol.iterator;a||(a=$jscomp.global.Symbol.iterator=$jscomp.global.Symbol("iterator"));"function"!=typeof Array.prototype[a]&&$jscomp.defineProperty(Array.prototype,a,{configurable:!0,writable:!0,value:function(){return $jscomp.arrayIterator(this)}});$jscomp.initSymbolIterator=function(){}};
$jscomp.initSymbolAsyncIterator=function(){$jscomp.initSymbol();var a=$jscomp.global.Symbol.asyncIterator;a||(a=$jscomp.global.Symbol.asyncIterator=$jscomp.global.Symbol("asyncIterator"));$jscomp.initSymbolAsyncIterator=function(){}};$jscomp.arrayIterator=function(a){var b=0;return $jscomp.iteratorPrototype(function(){return b<a.length?{done:!1,value:a[b++]}:{done:!0}})};
$jscomp.iteratorPrototype=function(a){$jscomp.initSymbolIterator();a={next:a};a[$jscomp.global.Symbol.iterator]=function(){return this};return a};$jscomp.makeIterator=function(a){$jscomp.initSymbolIterator();$jscomp.initSymbol();$jscomp.initSymbolIterator();var b=a[Symbol.iterator];return b?b.call(a):$jscomp.arrayIterator(a)};
var form=document.querySelector(".modal-form-feedback"),overlay=document.querySelector(".modal-overlay"),userName=form.querySelector(".modal-name-user"),userTel=form.querySelector(".modal-tel-user"),userMail=form.querySelector(".modal-mail-user"),formUserData=document.querySelector(".modal-user-answer"),modalFinish=document.querySelector(".modal-user-finish"),openForm=document.querySelector(".button-start"),closeForm=document.querySelector(".modal-form-feedback-close");
function getSendServer(a){a.preventDefault();var b=new FormData(form.querySelector(".modal-form")),c=new XMLHttpRequest;c.open("POST","file.php",!0);c.send(b);c.onreadystatechange=function(){4===this.readyState&&(200!==c.status?alert("\u0414\u0430\u043d\u043d\u044b\u0435 \u043d\u0435 \u043e\u0442\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u043d\u044b"):(alert("\u0414\u0430\u043d\u043d\u044b\u0435 \u0443\u0441\u043f\u0435\u0448\u043d\u043e \u043e\u0442\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u043d\u044b"),
    form.style.display="none",openForm.style.display="none",overlay.style.display="none",formUserData.style.display="block",getShowMessage(b)))}}function getTestInput(a,b,c){if(!1===a.test(b.value))return b.classList.add("error-anime"),getShowAlert(),!1;b.classList.remove("error-anime");return!0}
function getSuccessForm(){var a=!1,b=!1,c=!1;userName.onfocus=function(){userName.classList.remove("error-anime")};userName.onchange=function(){(a=getTestInput(/^[\u0430-\u044f\u0451a-z]+$/iu,userName,a))&&b&&c&&getShowButton()};userMail.onfocus=function(){userMail.classList.remove("error-anime")};userMail.onchange=function(){c=getTestInput(/^([A-Za-z0-9_\-\.])+@([A-Za-z0-9_\-\.])+\.([A-Za-z]{2,4})$/,userMail,c);a&&b&&c&&getShowButton()};userTel.onfocus=function(){userTel.classList.remove("error-anime")};
    userTel.onchange=function(){b=getTestInput(/^((\+?7|8)[ \-] ?)?((\(\d{3}\))|(\d{3}))?([ \-])?((\d{3}[\- ]?\d{2}[\- ]?\d{2})|(\d{2}[\- ]?\d{2}[\- ]?\d{3}))$/,userTel,b);a&&b&&c&&getShowButton()}}function getShowButton(){form.querySelector(".button-form-modal").style.display="block"}
function getShowMessage(a){for(var b=formUserData.querySelectorAll(".header-answer"),c=0,e=$jscomp.makeIterator(a.keys()),d=e.next();!d.done;d=e.next()){d=d.value;var f=document.createElement("p");f.textContent=a.get(d);b[c].insertAdjacentElement("afterend",f);c++}}function closeFeedBackEsc(a){27===a.keyCode&&(a.preventDefault(),"block"===form.style.display&&(form.style.display="none",overlay.style.display="none",form.classList.remove("error-anime"),clearForm()))}
openForm.addEventListener("click",function(){clearForm();setTimeout(function(){form.style.display="block";overlay.style.display="block";userName.focus();getSuccessForm()},5E3)});closeForm.addEventListener("click",function(){form.style.display="none";overlay.style.display="none";clearForm()});form.addEventListener("submit",getSendServer);window.addEventListener("keydown",closeFeedBackEsc);var buttonOk=document.querySelector(".ok");
buttonOk.addEventListener("click",function(){formUserData.style.display="none";modalFinish.style.display="block";clearForm();setTimeout(function(){modalFinish.style.display="none";openForm.style.display="block"},5E3)});var buttonNoOk=document.querySelector(".no-ok");buttonNoOk.addEventListener("click",function(){clearForm();formUserData.style.display="none";openForm.style.display="block"});
function clearForm(){var a=formUserData.querySelectorAll(".header-answer"),b=form.querySelector(".button-form-modal");userName.value="";userTel.value="";userMail.value="";b.style.display="none";userName.classList.contains("error-anime")&&userName.classList.remove("error-anime");userTel.classList.contains("error-anime")&&userTel.classList.remove("error-anime");userMail.classList.contains("error-anime")&&userMail.classList.remove("error-anime");for(b=0;b<a.length;b++)a[b].nextElementSibling&&a[b].nextElementSibling.remove()}
function getShowAlert(){var a=document.querySelector(".alert"),b=document.querySelector(".overlay-alert");a.style.display="block";b.style.display="block";setTimeout(function(){a.style.display="none";b.style.display="none"},1E3)};